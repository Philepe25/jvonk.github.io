<!DOCTYPE html>
<html lang="en-US">
    <head>
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/site.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/prism.css"><script type="text/javascript">
            let typeToName = {
                'pas': 'Pascal',
                'cpp': 'C++',
                'java': 'Java'
            }
            function getCode (type) {
                document.getElementById('code').innerHTML+="<div><br>"+(type=='java'?"<h2>CODE</h2>":"")+"<details><summary>"+typeToName[type]+"</summary><pre class = 'line-numbers language-" + (type=='pas'?'pascal':type) +"' data-src='"+"https://raw.githubusercontent.com/jvonk/USACO/master/Chapter_1/skidesign/skidesign".concat('.'+type)+"'></pre></details></div>";
            }
            document.addEventListener('DOMContentLoaded', function () {
                getCode('java');
                getCode('cpp');
                getCode('pas');
            });
        </script><meta charset="UTF-8"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Ski Course Design | Johan Vonk’s Website</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Ski Course Design" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Farmer John has N hills on his farm (1 &lt;= N &lt;= 1,000), each with an integer elevation in the range 0 .. 100. In the winter, since there is abundant snow on these hills, FJ routinely operates a ski training camp." />
<meta property="og:description" content="Farmer John has N hills on his farm (1 &lt;= N &lt;= 1,000), each with an integer elevation in the range 0 .. 100. In the winter, since there is abundant snow on these hills, FJ routinely operates a ski training camp." />
<link rel="canonical" href="https://jvonk.github.io/usaco/2018/09/30/skidesign.html" />
<meta property="og:url" content="https://jvonk.github.io/usaco/2018/09/30/skidesign.html" />
<meta property="og:site_name" content="Johan Vonk’s Website" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-30T17:00:00-07:00" />
<script type="application/ld+json">
{"url":"https://jvonk.github.io/usaco/2018/09/30/skidesign.html","headline":"Ski Course Design","dateModified":"2018-09-30T17:00:00-07:00","datePublished":"2018-09-30T17:00:00-07:00","description":"Farmer John has N hills on his farm (1 &lt;= N &lt;= 1,000), each with an integer elevation in the range 0 .. 100. In the winter, since there is abundant snow on these hills, FJ routinely operates a ski training camp.","mainEntityOfPage":{"@type":"WebPage","@id":"https://jvonk.github.io/usaco/2018/09/30/skidesign.html"},"@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<meta name="google-site-verification" content="a_1tMrUlVNqdFzDGwh_T1IpHoH9qeFrNoVkUBOmi9j0" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#157878">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    </head>
    <body>
        <div class="navbar">
            <a href="https://jvonk.github.io">Home</a><a href="/about/">
                        About
                    </a><div class="dropdown">
                    <button class="dropbtn">
                        USACO</button>
                    <i class="fa fa-caret-down"></i>
                    <div class="dropdown-content"><div class="dropdown">
                                    <button class="dropbtn">CHAPTER 1<i class="fa fa-caret-down"></i>
                                    </button>
                                    <div class="dropdown-content">

        <div class="navbar"><div class="dropdown">
                                                <button class="dropbtn">Section 2<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/09/26/beads.html">beads -Broken Necklace
                                                            </a><a href="/usaco/2018/09/25/friday.html">friday -Friday the 13th
                                                            </a><a href="/usaco/2018/09/25/gift1.html">gift1 -Greedy Gift Givers
                                                            </a><a href="/usaco/2018/09/25/ride.html">ride -Your Ride Is Here
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 3<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/09/28/dualpal.html">dualpal -Dual Palindromes
                                                            </a><a href="/usaco/2018/09/28/palsquare.html">palsquare -Palindromic Squares
                                                            </a><a href="/usaco/2018/09/28/namenum.html">namenum -Name That Number
                                                            </a><a href="/usaco/2018/09/28/transform.html">transform -Transformations
                                                            </a><a href="/usaco/2018/09/27/milk2.html">milk2 -Milking Cows
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 4<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/09/30/skidesign.html">skidesign -Ski Course Design
                                                            </a><a href="/usaco/2018/09/29/wormhole.html">wormhole -Wormholes
                                                            </a><a href="/usaco/2018/09/29/combo.html">combo -Combination Lock
                                                            </a><a href="/usaco/2018/09/29/crypt1.html">crypt1 -Prime Cryptarithm
                                                            </a><a href="/usaco/2018/09/28/milk.html">milk -Mixing Milk
                                                            </a><a href="/usaco/2018/09/28/barn1.html">barn1 -Barn Repair
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 5<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/10/02/milk3.html">milk3 -Mother's Milk
                                                            </a><a href="/usaco/2018/10/01/ariprog.html">ariprog -Arithmetic Progressions
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 6<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/10/04/pprime.html">pprime -Prime Palindromes
                                                            </a><a href="/usaco/2018/10/03/sprime.html">sprime -Superprime Rib
                                                            </a><a href="/usaco/2018/10/03/numtri.html">numtri -Number Triangles
                                                            </a></div>
                                            </div></div>
                                    </div>
                                </div><div class="dropdown">
                                    <button class="dropbtn">CHAPTER 2<i class="fa fa-caret-down"></i>
                                    </button>
                                    <div class="dropdown-content">

        <div class="navbar"><div class="dropdown">
                                                <button class="dropbtn">Section 1<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/10/10/holstein.html">holstein -Healthy Holsteins
                                                            </a><a href="/usaco/2018/10/09/hamming.html">hamming -Hamming Codes
                                                            </a><a href="/usaco/2018/10/08/sort3.html">sort3 -Sorting a Three-Valued Sequence
                                                            </a><a href="/usaco/2018/10/08/castle.html">castle -The Castle
                                                            </a><a href="/usaco/2018/10/05/frac1.html">frac1 -Ordered Fractions
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 2<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/10/12/lamps.html">lamps -Party Lamps
                                                            </a><a href="/usaco/2018/10/12/runround.html">runround -Runaround Numbers
                                                            </a><a href="/usaco/2018/10/11/subset.html">subset -Subset Sums
                                                            </a><a href="/usaco/2018/10/10/preface.html">preface -Preface Numbering
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 3<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/10/17/concom.html">concom -Controlling Companies
                                                            </a><a href="/usaco/2018/10/17/money.html">money -Money Systems
                                                            </a><a href="/usaco/2018/10/15/zerosum.html">zerosum -Zero Sum
                                                            </a><a href="/usaco/2018/10/15/nocows.html">nocows -Cow Pedigrees
                                                            </a><a href="/usaco/2018/10/15/prefix.html">prefix -Longest Prefix
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 4<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/10/31/fracdec.html">fracdec -Fractions to Decimals
                                                            </a><a href="/usaco/2018/10/31/cowtour.html">cowtour -Cow Tours
                                                            </a><a href="/usaco/2018/10/27/comehome.html">comehome -Bessie Come Home
                                                            </a><a href="/usaco/2018/10/22/maze1.html">maze1 -Overfencing
                                                            </a><a href="/usaco/2018/10/22/ttwo.html">ttwo -The Tamworth Two
                                                            </a></div>
                                            </div></div>
                                    </div>
                                </div><div class="dropdown">
                                    <button class="dropbtn">CHAPTER 3<i class="fa fa-caret-down"></i>
                                    </button>
                                    <div class="dropdown-content">

        <div class="navbar"><div class="dropdown">
                                                <button class="dropbtn">Section 1<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/11/06/inflate.html">inflate -Score Inflation
                                                            </a><a href="/usaco/2018/11/05/contact.html">contact -Contact
                                                            </a><a href="/usaco/2018/11/05/humble.html">humble -Humble Numbers
                                                            </a><a href="/usaco/2018/11/03/stamps.html">stamps -Stamps
                                                            </a><a href="/usaco/2018/11/01/agrinet.html">agrinet -Agri-Net
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 2<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2018/12/11/msquare.html">msquare -Magic Squares
                                                            </a><a href="/usaco/2018/12/11/butter.html">butter -Magic Squares
                                                            </a><a href="/usaco/2018/11/15/spin.html">spin -Spinning Wheels
                                                            </a><a href="/usaco/2018/11/14/ratios.html">ratios -Feed Ratios
                                                            </a><a href="/usaco/2018/11/07/kimbits.html">kimbits -Stringsobits
                                                            </a><a href="/usaco/2018/11/07/fact4.html">fact4 -Factorials
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 3<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2019/01/14/game1.html">game1 -A Game
                                                            </a><a href="/usaco/2019/01/12/camelot.html">camelot -Camelot
                                                            </a><a href="/usaco/2018/12/20/shopping.html">shopping -Shopping Offers
                                                            </a><a href="/usaco/2018/12/20/range.html">shopping -Shopping Offers
                                                            </a><a href="/usaco/2018/12/12/fence.html">fence -Riding the Fences
                                                            </a></div>
                                            </div><div class="dropdown">
                                                <button class="dropbtn">Section 4<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2019/01/28/rockers.html">rockers -Raucous Rockers
                                                            </a><a href="/usaco/2019/01/22/fence9.html">fence9 -Electric Fence
                                                            </a><a href="/usaco/2019/01/16/heritage.html">heritage -American Heritage
                                                            </a></div>
                                            </div></div>
                                    </div>
                                </div><div class="dropdown">
                                    <button class="dropbtn">CHAPTER 4<i class="fa fa-caret-down"></i>
                                    </button>
                                    <div class="dropdown-content">

        <div class="navbar"><div class="dropdown">
                                                <button class="dropbtn">Section 1<i class="fa fa-caret-down"></i>
                                                </button>
                                                <div class="dropdown-content"><a href="/usaco/2019/01/28/nuggets.html">nuggets -Beef McNuggets
                                                            </a></div>
                                            </div></div>
                                    </div>
                                </div></div>
                </div><div class="dropdown">
                    <button class="dropbtn">
                        PORTFOLIO</button>
                    <i class="fa fa-caret-down"></i>
                    <div class="dropdown-content"><a href="/portfolio/2018/11/23/overview.html">Overview
                                </a></div>
                </div></div>
        <header class="page-header" role="banner"><h1 class="project-name">
                    Ski Course Design</h1>
                    <div class="post-categories"><h2><a href="https://jvonk.github.io#USACO">USACO</a></h2></div><h2 class="project-tagline">
                        Farmer John has N hills on his farm (1 <= N <= 1,000), each with an integer elevation in the range 0 .. 100. In the winter, since there is abundant snow on these hills, FJ routinely operates a ski training camp.</h2><a href="https://github.com/jvonk/USACO/blob/master/Chapter_1/skidesign/skidesign.java" class="btn">Code on GitHub</a><br><a href="https://github.com/jvonk/jvonk.github.io/blob/master/_posts/2018-10-01-skidesign.markdown" class="btn">Current Page on GitHub</a></header>
        <main id="content" class="main-content" role="main">
            <div class="realcontent"><a id="skip-to-content" href="#code">Skip to code</a><br><a id="skip-to-content2" href="#analysis">Skip to analysis</a><br><br>
                <em>This is a explanation of this problem from USACO's training website. I have converted it to markdown. Please do not just copy code; you will not learn anything; at least type it out and understand so you can do it yourself in the future!</em><p>Farmer John has N hills on his farm (1 &lt;= N &lt;= 1,000), each with an integer elevation in the range 0 .. 100. In the winter, since there is abundant snow on these hills, FJ routinely operates a ski training camp.</p>

<p>Unfortunately, FJ has just found out about a new tax that will be assessed next year on farms used as ski training camps. Upon careful reading of the law, however, he discovers that the official definition of a ski camp requires the difference between the highest and lowest hill on his property to be strictly larger than 17. Therefore, if he shortens his tallest hills and adds mass to increase the height of his shorter hills, FJ can avoid paying the tax as long as the new difference between the highest and lowest hill is at most 17.</p>

<p>If it costs x^2 units of money to change the height of a hill by x units, what is the minimum amount of money FJ will need to pay? FJ can change the height of a hill only once, so the total cost for each hill is the square of the difference between its original and final height. FJ is only willing to change the height of each hill by an integer amount.</p>

<h3 id="program-name-skidesign">PROGRAM NAME: skidesign</h3>

<h3 id="input-format">INPUT FORMAT:</h3>

<table>
  <tbody>
    <tr>
      <td><strong>Line 1:</strong></td>
      <td>The integer N.</td>
    </tr>
    <tr>
      <td><strong>Lines 2..1+N:</strong></td>
      <td>Each line contains the elevation of a single hill.</td>
    </tr>
  </tbody>
</table>

<h3 id="sample-input-file-skidesignin">SAMPLE INPUT (file skidesign.in):</h3>

<pre><code class="language-none">5
20
4
1
24
21
</code></pre>

<h3 id="input-details">INPUT DETAILS:</h3>

<p>FJ’s farm has 5 hills, with elevations 1, 4, 20, 21, and 24.</p>

<h3 id="output-format">OUTPUT FORMAT:</h3>

<p>The minimum amount FJ needs to pay to modify the elevations of his hills so the difference between largest and smallest is at most 17 units.</p>

<h3 id="sample-output-file-skidesignout">SAMPLE OUTPUT (file skidesign.out):</h3>

<pre><code class="language-none">18
</code></pre>

<h3 id="output-details">OUTPUT DETAILS:</h3>

<p>FJ keeps the hills of heights 4, 20, and 21 as they are. He adds mass to the hill of height 1, bringing it to height 4 (cost = 3^2 = 9). He shortens the hill of height 24 to height 21, also at a cost of 3^2 = 9.</p>

<div id="code"></div>
                <script src="/assets/js/prism.js"></script><br>
                <div id="analysis">
                    <h2>ANALYSIS</h2>
<details>
  <summary>
    <p>Fatih Gelgi</p>
  </summary>

  <p>The problem can be solved with different approaches. A simple idea is of course brute-force – try all possible elevations and find the minimum amount. We can try all possible values as follows: try the modification for elevation interval (0,17) then (1,18), (2,19), …, (83,100). For each elevation interval (i,i+17), we need to calculate the cost for each hill j:</p>

  <ol>
    <li>If the elevation of hill j, say hill[j], is in the interval (i,i+17) then there is no cost.</li>
    <li>If it is less than i then the cost increases by (i-hill[j])^2</li>
    <li>If it is greater than i+17 then the cost increases by (hill[j]-(i+17))^2</li>
  </ol>

  <p>The total cost for that interval will be the sum of the costs of modifying all hills.</p>

  <p>For the sample input:</p>

  <pre><code class="language-none">hill			elevation intervals and cost
height (0,17)  (1,18)  (2,19)  (3,20)  (4,21)  (5,22)  (6,23)  (7,24) ....
------ ---------------------------------------------------------------
 1	0	0	1	4	9	16	25	36	
 4	0	0	0	0	0	1	4	9
20	9	4	1	0	0	0	0	0
21	16	9	4	1	0	0	0	0
24	49	36	25	16	9	4	1	0
	-------------------------------------------------------------
total	74	49	31	21	*18*	21	30	45
</code></pre>

  <p>As you observed, it is unnecessary to try elevation intervals after (7,24) since the maximum height is 24. You may want to modify the solution to eliminate these type of redundancies although it is not necessary.</p>

  <p>For each interval, scanning through all hill elevations require O(N) time. Since we try all possible intervals, the total time is O(NM) where M is the size of the elevation range. Since N=1000 and M=100 are very small, this brute-force approach is sufficient. A sample code is provided below:</p>

  <pre><code class="language-cpp">#include &lt;fstream&gt;

using namespace std;

int n,hills[1000];

int main()
{
	ifstream fin("skidesign.in");
	fin &gt;&gt; n;
	for (int i=0; i&lt;n; i++)
		fin &gt;&gt; hills[i];
	fin.close();

	// brute-force search
	// try all elevation intervals from (0,17) to (83,100)
	int mincost=1000000000;
	for (int i=0; i&lt;=83; i++)
	{
		// calculate the cost for elevation interval (i,i+17)
		int cost=0,x;
		for (int j=0; j&lt;n; j++)
		{
			// if hill is below the interval
			if (hills[j]&lt;i)
				x=i-hills[j];
			// if hill is above the interval
			else if (hills[j]&gt;i+17)
				x=hills[j]-(i+17);
			// if hill is int the interval
			else
				x=0;
			cost+=x*x;
		}
		// update the minimum cost
		mincost=min(mincost,cost);
	}

	ofstream fout("skidesign.out");
	fout &lt;&lt; mincost &lt;&lt; "\n";
	fout.close();
}
</code></pre>

</details>

</div><br>
                <a id="skip-to-main" href="#content">Back to top</a></div><footer class="site-footer realcontent"><span class="site-footer-owner"><a href="https://github.com/jvonk/USACO/blob/master/Chapter_1/skidesign/skidesign.java">USACO - skidesign</a>
                            is created by
                            <a href="http://github.com/jvonk">
                                jvonk</a>
                            .
                        </span></footer></main>
    </body>
</html>
